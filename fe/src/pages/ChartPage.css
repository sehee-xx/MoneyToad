/* 페이지 스크롤 보장 */
html.allow-scroll, body.allow-scroll, #root {
  height: auto !important;
  min-height: 100% !important;
  overflow-y: auto !important;
}
html { scroll-behavior: smooth; }

/* 페이지 배경/여백 */
.jp-wrap{
  min-height: 100vh;
  padding: 32px clamp(20px, 5vw, 64px);
  background: #f7f2e6 url("/charts/hanji-bg.png") center/cover fixed no-repeat;
  color:#2a241b;
}

/* 헤더 */
.jp-header{
  max-width:1180px; margin:0 auto 18px;
  display:flex; flex-wrap:wrap; align-items:baseline; gap:10px;
}
.jp-header h1{ margin:0; font-size:clamp(18px,2.6vw,28px); }
.jp-header p{ margin:0; color:#6b5e4a; }

/* === 라인차트 섹션 === */
.jp-frame{ max-width:1180px; margin:0 auto 24px; }

/* 돌담 배경 이미지 (비율 고정) */
.jp-line-bg{
  position:relative;
  width:100%;
  aspect-ratio: 3 / 2;                     /* line-chart.png 비율 */
  background: url("/charts/line-chart.png") center/contain no-repeat;
}

/* 차트가 실제로 그려질 영역(돌담 안쪽만) */
.jp-chart-canvas{
  position:absolute;
  inset: 9% 7% 13% 7%;                      /* top right bottom left — 필요시 미세조정 */
}

/* Recharts 컨테이너가 캔버스를 꽉 채우도록 */
.jp-chart-canvas > .recharts-responsive-container {
  width:100% !important;
  height:100% !important;
}

/* === 상세 카드 === */
.jp-card{
  max-width:1180px; margin:0 auto 28px;
  background:#f6efdf; border:2px solid #c7b899; border-radius:18px;
  padding:14px; box-shadow:0 6px 16px rgba(0,0,0,.06);
}
#jp-detail { scroll-margin-top: 24px; }
.jp-card-head{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; }
.jp-head-actions{ display:flex; gap:8px; align-items:center; }
.jp-total{ font-weight:800; color:#3b3125; }

/* 레이아웃 */
.jp-grid{ display:grid; grid-template-columns:1.2fr 1fr; gap:14px; }
@media (max-width:980px){ .jp-grid{ grid-template-columns:1fr; } }

.jp-panel{
  background:#fffaf0; border:1px solid #e1d6bf; border-radius:14px; padding:12px;
  box-shadow: inset 0 0 40px rgba(0,0,0,.03);
}

/* 도구줄 / 셀렉트 */
.jp-toolbar{ display:flex; align-items:center; gap:10px; margin-bottom:10px; }
.jp-toolbar label{ font-weight:700; }

.jp-select{
  appearance: none;
  padding: 8px 36px 8px 12px;
  border-radius:12px; border:2px solid #c8b896;
  background:
    url("/charts/chevron-down.svg") right 10px center/16px no-repeat,
    #fffaf0;
  font-weight:700; color:#3a2e22;
  box-shadow: inset 0 2px 0 rgba(255,255,255,.7);
}
.jp-select:focus{ outline:none; box-shadow:0 0 0 4px rgba(191,174,141,.25); }

/* 표 */
.jp-table{ width:100%; border-collapse:collapse; font-size:14px; }
.jp-table th, .jp-table td{ padding:8px 6px; border-top:1px solid #efe6d3; }
.jp-table thead th{ border-top:none; background:#f1e6cf; }
.jp-table td.left{ text-align:left; }

/* 파이 액자 */
.jp-pie-frame{
  border:2px solid #c7b899; border-radius:12px;
  padding:8px; height:100%;
  box-shadow: inset 0 0 0 6px #f3ead7;
}

/* 플로팅 버튼 */
.jp-fab{
  position: fixed; right: clamp(16px, 3vw, 28px); bottom: clamp(16px, 3vw, 28px);
  width:44px; height:44px; border-radius:999px;
  border:2px solid #bfae8d; background:#efe6d1;
  box-shadow: 0 8px 16px rgba(0,0,0,.18);
  font-weight:900; color:#3b3125; cursor:pointer;
}
.jp-top-btn, .jp-close{
  border:1px solid #cabfa8; background:#efe6d1; border-radius:10px; padding:6px 10px;
  cursor:pointer; font-weight:800; color:#3b3125;
}
.jp-top-btn:hover, .jp-close:hover, .jp-fab:hover{ transform: translateY(-1px); }

/* Recharts 텍스트/툴팁 */
.recharts-default-legend{ color:#32291e !important; }
.recharts-tooltip-wrapper{ filter:drop-shadow(0 6px 8px rgba(0,0,0,.1)); }
